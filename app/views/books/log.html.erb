<div class="p-3 mb-2 bg-light text-black " style="height: full;">
  <nav class="navbar navbar-expand-lg justify-content-center fixed-top bg-warning">
    <h1 style="position: absolute; left: 0px; margin-left: 20px; font-family: 'Times New Roman', Times, serif;">RA-Library</h1>
    <% if current_user %>
    <div class="btn-group" role="group" aria-label="Basic example">
      <%= button_to 'Sign out', destroy_user_session_path, method: :delete, class:"btn btn-danger" %>
      <%= button_to 'Home', home_page_path, class:"btn btn-light" %>
      <%= button_to 'Profile', show_user_path, class:"btn btn-primary" %>
      <%= link_to 'Back', :back, class:"btn btn-success" %>
    </div>
    <% else %>
    <%= link_to 'Sign up', new_user_registration_path %>
    <%= link_to 'Sign in', new_user_session_path %>
    <% end %>
  </nav>
  <div class="row justify-content-center">
    <div class="row col-md-6 col-md-push-">
      <h1>Library Logs</h1>
      <table class="table table-responsive table-striped">
        <thead>
          <tr>
            <th>Title</th>
            <th>Link</th>
            <th colspan="3"></th>
          </tr>
        </thead>
        <tbody>
          <% @Log.distinct.pluck(:title).each do |log| %>
          <tr>
            <td><%= log %></td>
            <td><%= link_to 'History', history_book_path(Book.find_by(title: log).id), class:"btn btn-success btn-sm" %></td>
            <% end %>
            <% @BooksUser.each do |booksUser| %>
            <tr>
              <% @title = Book.where(id: booksUser.book_id).first.title %>
              <% if !(Log.where(title: @title).count > 0) %> 
              <td><%= Book.find_by(id: booksUser.book_id).title %></td>
              <td><%= link_to 'History', history_book_path(Book.find_by(id: booksUser.book_id)), class:"btn btn-success btn-sm" %></td>
            </tr>
            <% end %>
            <% end %>
          </tbody>
        </table>
      </div>
    </div>
  </div>